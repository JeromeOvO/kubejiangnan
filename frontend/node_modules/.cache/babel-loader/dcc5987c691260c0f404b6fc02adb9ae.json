{"remainingRequest":"/Users/caijiangnan/Desktop/kubejiangnan/code/kubejiangnan/frontend/vue-admin-template/node_modules/babel-loader/lib/index.js!/Users/caijiangnan/Desktop/kubejiangnan/code/kubejiangnan/frontend/vue-admin-template/src/permission.js","dependencies":[{"path":"/Users/caijiangnan/Desktop/kubejiangnan/code/kubejiangnan/frontend/vue-admin-template/src/permission.js","mtime":1696115202906},{"path":"/Users/caijiangnan/Desktop/kubejiangnan/code/kubejiangnan/frontend/vue-admin-template/babel.config.js","mtime":1696114526653},{"path":"/Users/caijiangnan/Desktop/kubejiangnan/code/kubejiangnan/frontend/vue-admin-template/node_modules/cache-loader/dist/cjs.js","mtime":1696114798416},{"path":"/Users/caijiangnan/Desktop/kubejiangnan/code/kubejiangnan/frontend/vue-admin-template/node_modules/babel-loader/lib/index.js","mtime":1696114794073}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiL1VzZXJzL2NhaWppYW5nbmFuL0Rlc2t0b3Ava3ViZWppYW5nbmFuL2NvZGUva3ViZWppYW5nbmFuL2Zyb250ZW5kL3Z1ZS1hZG1pbi10ZW1wbGF0ZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vcmVnZW5lcmF0b3JSdW50aW1lLmpzIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9jYWlqaWFuZ25hbi9EZXNrdG9wL2t1YmVqaWFuZ25hbi9jb2RlL2t1YmVqaWFuZ25hbi9mcm9udGVuZC92dWUtYWRtaW4tdGVtcGxhdGUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IuanMiOwppbXBvcnQgcm91dGVyIGZyb20gJy4vcm91dGVyJzsKaW1wb3J0IHN0b3JlIGZyb20gJy4vc3RvcmUnOwppbXBvcnQgeyBNZXNzYWdlIH0gZnJvbSAnZWxlbWVudC11aSc7CmltcG9ydCBOUHJvZ3Jlc3MgZnJvbSAnbnByb2dyZXNzJzsgLy8gcHJvZ3Jlc3MgYmFyCmltcG9ydCAnbnByb2dyZXNzL25wcm9ncmVzcy5jc3MnOyAvLyBwcm9ncmVzcyBiYXIgc3R5bGUKaW1wb3J0IHsgZ2V0VG9rZW4gfSBmcm9tICdAL3V0aWxzL2F1dGgnOyAvLyBnZXQgdG9rZW4gZnJvbSBjb29raWUKaW1wb3J0IGdldFBhZ2VUaXRsZSBmcm9tICdAL3V0aWxzL2dldC1wYWdlLXRpdGxlJzsKTlByb2dyZXNzLmNvbmZpZ3VyZSh7CiAgc2hvd1NwaW5uZXI6IGZhbHNlCn0pOyAvLyBOUHJvZ3Jlc3MgQ29uZmlndXJhdGlvbgoKdmFyIHdoaXRlTGlzdCA9IFsnL2xvZ2luJ107IC8vIG5vIHJlZGlyZWN0IHdoaXRlbGlzdAoKcm91dGVyLmJlZm9yZUVhY2goIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgdmFyIF9yZWYgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUodG8sIGZyb20sIG5leHQpIHsKICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgIGNhc2UgMDoKICAgICAgICAgIC8vIHN0YXJ0IHByb2dyZXNzIGJhcgogICAgICAgICAgTlByb2dyZXNzLnN0YXJ0KCk7CgogICAgICAgICAgLy8gc2V0IHBhZ2UgdGl0bGUKICAgICAgICAgIGRvY3VtZW50LnRpdGxlID0gZ2V0UGFnZVRpdGxlKHRvLm1ldGEudGl0bGUpOwogICAgICAgICAgbmV4dCgpOwogICAgICAgICAgLy8gZGV0ZXJtaW5lIHdoZXRoZXIgdGhlIHVzZXIgaGFzIGxvZ2dlZCBpbgogICAgICAgICAgLy8gY29uc3QgaGFzVG9rZW4gPSBnZXRUb2tlbigpCgogICAgICAgICAgLy8gaWYgKGhhc1Rva2VuKSB7CiAgICAgICAgICAvLyAgIGlmICh0by5wYXRoID09PSAnL2xvZ2luJykgewogICAgICAgICAgLy8gICAgIC8vIGlmIGlzIGxvZ2dlZCBpbiwgcmVkaXJlY3QgdG8gdGhlIGhvbWUgcGFnZQogICAgICAgICAgLy8gICAgIG5leHQoeyBwYXRoOiAnLycgfSkKICAgICAgICAgIC8vICAgICBOUHJvZ3Jlc3MuZG9uZSgpCiAgICAgICAgICAvLyAgIH0gZWxzZSB7CiAgICAgICAgICAvLyAgICAgY29uc3QgaGFzR2V0VXNlckluZm8gPSBzdG9yZS5nZXR0ZXJzLm5hbWUKICAgICAgICAgIC8vICAgICBpZiAoaGFzR2V0VXNlckluZm8pIHsKICAgICAgICAgIC8vICAgICAgIG5leHQoKQogICAgICAgICAgLy8gICAgIH0gZWxzZSB7CiAgICAgICAgICAvLyAgICAgICB0cnkgewogICAgICAgICAgLy8gICAgICAgICAvLyBnZXQgdXNlciBpbmZvCiAgICAgICAgICAvLyAgICAgICAgIGF3YWl0IHN0b3JlLmRpc3BhdGNoKCd1c2VyL2dldEluZm8nKQoKICAgICAgICAgIC8vICAgICAgICAgbmV4dCgpCiAgICAgICAgICAvLyAgICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgICAgLy8gICAgICAgICAvLyByZW1vdmUgdG9rZW4gYW5kIGdvIHRvIGxvZ2luIHBhZ2UgdG8gcmUtbG9naW4KICAgICAgICAgIC8vICAgICAgICAgYXdhaXQgc3RvcmUuZGlzcGF0Y2goJ3VzZXIvcmVzZXRUb2tlbicpCiAgICAgICAgICAvLyAgICAgICAgIE1lc3NhZ2UuZXJyb3IoZXJyb3IgfHwgJ0hhcyBFcnJvcicpCiAgICAgICAgICAvLyAgICAgICAgIG5leHQoYC9sb2dpbj9yZWRpcmVjdD0ke3RvLnBhdGh9YCkKICAgICAgICAgIC8vICAgICAgICAgTlByb2dyZXNzLmRvbmUoKQogICAgICAgICAgLy8gICAgICAgfQogICAgICAgICAgLy8gICAgIH0KICAgICAgICAgIC8vICAgfQogICAgICAgICAgLy8gfSBlbHNlIHsKICAgICAgICAgIC8vICAgLyogaGFzIG5vIHRva2VuKi8KCiAgICAgICAgICAvLyAgIGlmICh3aGl0ZUxpc3QuaW5kZXhPZih0by5wYXRoKSAhPT0gLTEpIHsKICAgICAgICAgIC8vICAgICAvLyBpbiB0aGUgZnJlZSBsb2dpbiB3aGl0ZWxpc3QsIGdvIGRpcmVjdGx5CiAgICAgICAgICAvLyAgICAgbmV4dCgpCiAgICAgICAgICAvLyAgIH0gZWxzZSB7CiAgICAgICAgICAvLyAgICAgLy8gb3RoZXIgcGFnZXMgdGhhdCBkbyBub3QgaGF2ZSBwZXJtaXNzaW9uIHRvIGFjY2VzcyBhcmUgcmVkaXJlY3RlZCB0byB0aGUgbG9naW4gcGFnZS4KICAgICAgICAgIC8vICAgICBuZXh0KGAvbG9naW4/cmVkaXJlY3Q9JHt0by5wYXRofWApCiAgICAgICAgICAvLyAgICAgTlByb2dyZXNzLmRvbmUoKQogICAgICAgICAgLy8gICB9CiAgICAgICAgICAvLyB9CiAgICAgICAgY2FzZSAzOgogICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICB9CiAgICB9LCBfY2FsbGVlKTsKICB9KSk7CiAgcmV0dXJuIGZ1bmN0aW9uIChfeCwgX3gyLCBfeDMpIHsKICAgIHJldHVybiBfcmVmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgfTsKfSgpKTsKcm91dGVyLmFmdGVyRWFjaChmdW5jdGlvbiAoKSB7CiAgLy8gZmluaXNoIHByb2dyZXNzIGJhcgogIE5Qcm9ncmVzcy5kb25lKCk7Cn0pOw=="},{"version":3,"names":["router","store","Message","NProgress","getToken","getPageTitle","configure","showSpinner","whiteList","beforeEach","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","to","from","next","wrap","_callee$","_context","prev","start","document","title","meta","stop","_x","_x2","_x3","apply","arguments","afterEach","done"],"sources":["/Users/caijiangnan/Desktop/kubejiangnan/code/kubejiangnan/frontend/vue-admin-template/src/permission.js"],"sourcesContent":["import router from './router'\nimport store from './store'\nimport { Message } from 'element-ui'\nimport NProgress from 'nprogress' // progress bar\nimport 'nprogress/nprogress.css' // progress bar style\nimport { getToken } from '@/utils/auth' // get token from cookie\nimport getPageTitle from '@/utils/get-page-title'\n\nNProgress.configure({ showSpinner: false }) // NProgress Configuration\n\nconst whiteList = ['/login'] // no redirect whitelist\n\nrouter.beforeEach(async(to, from, next) => {\n  // start progress bar\n  NProgress.start()\n\n  // set page title\n  document.title = getPageTitle(to.meta.title)\n  next()\n  // determine whether the user has logged in\n  // const hasToken = getToken()\n\n  // if (hasToken) {\n  //   if (to.path === '/login') {\n  //     // if is logged in, redirect to the home page\n  //     next({ path: '/' })\n  //     NProgress.done()\n  //   } else {\n  //     const hasGetUserInfo = store.getters.name\n  //     if (hasGetUserInfo) {\n  //       next()\n  //     } else {\n  //       try {\n  //         // get user info\n  //         await store.dispatch('user/getInfo')\n\n  //         next()\n  //       } catch (error) {\n  //         // remove token and go to login page to re-login\n  //         await store.dispatch('user/resetToken')\n  //         Message.error(error || 'Has Error')\n  //         next(`/login?redirect=${to.path}`)\n  //         NProgress.done()\n  //       }\n  //     }\n  //   }\n  // } else {\n  //   /* has no token*/\n\n  //   if (whiteList.indexOf(to.path) !== -1) {\n  //     // in the free login whitelist, go directly\n  //     next()\n  //   } else {\n  //     // other pages that do not have permission to access are redirected to the login page.\n  //     next(`/login?redirect=${to.path}`)\n  //     NProgress.done()\n  //   }\n  // }\n})\n\nrouter.afterEach(() => {\n  // finish progress bar\n  NProgress.done()\n})\n"],"mappings":";;AAAA,OAAOA,MAAM,MAAM,UAAU;AAC7B,OAAOC,KAAK,MAAM,SAAS;AAC3B,SAASC,OAAO,QAAQ,YAAY;AACpC,OAAOC,SAAS,MAAM,WAAW,EAAC;AAClC,OAAO,yBAAyB,EAAC;AACjC,SAASC,QAAQ,QAAQ,cAAc,EAAC;AACxC,OAAOC,YAAY,MAAM,wBAAwB;AAEjDF,SAAS,CAACG,SAAS,CAAC;EAAEC,WAAW,EAAE;AAAM,CAAC,CAAC,EAAC;;AAE5C,IAAMC,SAAS,GAAG,CAAC,QAAQ,CAAC,EAAC;;AAE7BR,MAAM,CAACS,UAAU;EAAA,IAAAC,IAAA,GAAAC,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,CAAC,SAAAC,QAAMC,EAAE,EAAEC,IAAI,EAAEC,IAAI;IAAA,OAAAL,mBAAA,GAAAM,IAAA,UAAAC,SAAAC,QAAA;MAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAH,IAAA;QAAA;UACpC;UACAd,SAAS,CAACmB,KAAK,CAAC,CAAC;;UAEjB;UACAC,QAAQ,CAACC,KAAK,GAAGnB,YAAY,CAACU,EAAE,CAACU,IAAI,CAACD,KAAK,CAAC;UAC5CP,IAAI,CAAC,CAAC;UACN;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;QAAA;QAAA;UAAA,OAAAG,QAAA,CAAAM,IAAA;MAAA;IAAA,GAAAZ,OAAA;EAAA,CACD;EAAA,iBAAAa,EAAA,EAAAC,GAAA,EAAAC,GAAA;IAAA,OAAAnB,IAAA,CAAAoB,KAAA,OAAAC,SAAA;EAAA;AAAA,IAAC;AAEF/B,MAAM,CAACgC,SAAS,CAAC,YAAM;EACrB;EACA7B,SAAS,CAAC8B,IAAI,CAAC,CAAC;AAClB,CAAC,CAAC"}]}